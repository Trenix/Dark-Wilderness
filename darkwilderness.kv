#:import C kivy.utils.get_color_from_hex
#:import Clock kivy.clock
#:include gui/discoverscreen.kv

MainScreenManager:
    MainScreen:

<MainScreen>:
    name: "main"
    md_bg_color: app.theme_cls.primary_light

    MDBoxLayout:
        orientation: 'vertical'

        MDToolbar:
            id: screen_title
            title: "Player"
            left_action_items: [["menu", lambda x: root.open_close_rail()]]
            right_action_items: [["information-outline", lambda x: x]]

        MDBoxLayout:
            orientation: 'horizontal'
            MDBoxLayout:
                id: rail
                orientation: 'vertical'
                padding: '8dp'
                size_hint_x: None
                width: '72dp'
                opacity: 1
                md_bg_color: app.theme_cls.primary_color

                RailIconButton:
                    group: 'x'
                    pos_hint: {'center_x': 0.5}
                    on_release:
                        window_screen_manager.current = 'discover'
                        screen_title.title = 'Discover'

                    Image:
                        source: "image/Discover.png"
                        size_hint: None, None
                        size: '48dp', '48dp'

                RailIconButton:
                    group: 'x'
                    pos_hint: {'center_x': 0.5}
                    icon: "image/Discover.png"


                Widget:
#            MDNavigationRail:
#                id: rail
#                padding: '8dp', '0dp'
#                radius: ["0dp"]
#                md_bg_color: app.theme_cls.primary_color
#                visible: 'Unlabeled'
#                use_hover_behavior: True
#                hover_bg: app.theme_cls.primary_dark
#
#                MDNavigationRailItem:
#                    icon: "image/Discover.png"
#                    on_release:
#                        window_screen_manager.current = 'discover'
#                        screen_title.title = 'Discover'
#
#
#                MDNavigationRailItem:
#                    icon: "basket"
#                MDNavigationRailItem:
#                    icon: "spear"
#                MDNavigationRailItem:
#                    icon: "hammer"
#                MDNavigationRailItem:
#                    icon: "pot-steam"
#                MDNavigationRailItem:
#                    icon: "rabbit"
#                MDNavigationRailItem:
#                    icon: "fish"

            WindowScreenManager:
                id: window_screen_manager
                PlayerScreen:
                    name: 'player'
                DiscoverScreen:

    MDToolbar:
    MDBoxLayout:
        padding: dp(8)
        spacing: dp(32)

        Widget:

        MDIconButton:
            icon: 'bag-personal'

        MDFloatLayout:
            MDIconButton:
                pos_hint: {'center_x': 0.5}
                pos: self.width, self.height - dp(24)
                icon_size: "36sp"
                md_bg_color: app.theme_cls.primary_dark
                icon: 'human-handsdown'
                on_release:
                    window_screen_manager.current = 'player'
                    screen_title.title = 'Player'

        MDIconButton:
            icon: 'image/Discover.png'

        Widget:

#        Honeycombed:
#            cols: 5
#            Image:
#                size_hint: None, None
#                size: dp(155), dp(180)
#                source: 'image/Hexagon.png'
#            Image:
#                size_hint: None, None
#                size: dp(155), dp(180)
#                source: 'image/Hexagon.png'