#:import C kivy.utils.get_color_from_hex
#:import Clock kivy.clock
#:include gui/discoverscreen.kv

MainScreenManager:
    MainScreen:

<MainScreen>:
    name: "main"
    md_bg_color: app.theme_cls.primary_light

    MDBoxLayout:
        orientation: 'vertical'

        MDToolbar:
            id: screen_title
            title: "Player"
            left_action_items: [["menu", lambda x: root.open_close_rail()]]
            elevation: dp(16)

        MDBoxLayout:
            MDNavigationRail:
                id: rail
                padding: '8dp', '0dp'
                radius: ["0dp"]
                md_bg_color: app.theme_cls.primary_color
                visible: 'Unlabeled'
                use_hover_behavior: True
                hover_bg: app.theme_cls.primary_dark

                MDNavigationRailItem:
                    icon: "map"
                    on_release:
                        window_screen_manager.current = 'discover'
                        screen_title.title = 'Discover'

                MDNavigationRailItem:
                    icon: "grass"
                MDNavigationRailItem:
                    icon: "tools"
                MDNavigationRailItem:
                    icon: "hammer"
                MDNavigationRailItem:
                    icon: "campfire"
                MDNavigationRailItem:
                    icon: "bow-arrow"

            WindowScreenManager:
                id: window_screen_manager
                PlayerScreen:
                    name: 'player'
                DiscoverScreen:

    MDToolbar:
    MDBoxLayout:
        padding: dp(8)
        spacing: dp(28)

        Widget:

        MDIconButton:
            icon: 'bag-personal'

        MDFloatLayout:
            MDIconButton:
                pos_hint: {'center_x': 0.5}
                pos: self.width, self.height - dp(24)
                icon_size: "36sp"
                md_bg_color: app.theme_cls.primary_dark
                icon: 'human-handsdown'
                on_release:
                    window_screen_manager.current = 'player'
                    screen_title.title = 'Player'

        MDIconButton:
            icon: 'help'

        Widget:

#        Honeycombed:
#            cols: 5
#            Image:
#                size_hint: None, None
#                size: dp(155), dp(180)
#                source: 'image/Hexagon.png'
#            Image:
#                size_hint: None, None
#                size: dp(155), dp(180)
#                source: 'image/Hexagon.png'